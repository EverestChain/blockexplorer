(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8079],{73191:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return L},default:function(){return S}});var r=n(18003),o=n(56168),i=n(65117),s=n(62044),a=n(22319),c=n(77956),u=n(34871),l=n(33067),f=n(32376);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var g=n(25883),b=n(75234),d=n(14219),m=n.n(d),O=n(72794),x=n(18658),j=n(82582),v=n(30356),P=n(87341),y=n(25793),w=n(55264),k=n(45439),Z=n(8014);function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var D=(0,i.default)((function(){return n.e(7900).then(n.bind(n,47900))}),{loadableGenerated:{webpack:function(){return[47900]}}}),E=(0,i.default)((function(){return n.e(3862).then(n.bind(n,33862))}),{loadableGenerated:{webpack:function(){return[33862]}}}),I=function(){var t=(0,s.Z)("blocks").t,e=(0,u.eI)().isDesktop,n=(0,f.Z)((function(t){return{root:h(h({},t.mixins.layout),{},{"& a":{color:t.palette.custom.fonts.highlight}}),box:(0,r.Z)({minHeight:"500px",height:"50vh"},t.breakpoints.up("lg"),{height:"100%",minHeight:"65vh"})}}))(),i=function(){var t=(0,o.useState)({loading:!0,exists:!0,items:[],hasNextPage:!1,isNextPageLoading:!1}),e=t[0],n=t[1],r=function(t){n((function(e){return O.Z(t,e)}))},i=x.Z(j.Z(v.Z("height")),P.Z(y.Z(v.Z("height"))));(0,k.Wx)({variables:{limit:1,offset:0},onSubscriptionData:function(t){var n=i([].concat((0,b.Z)(c(t.subscriptionData.data)),(0,b.Z)(e.items)));r({loading:!1,items:n})}});var s=(0,k.L3)({variables:{limit:51,offset:1},onError:function(){r({loading:!1})},onCompleted:function(t){var n=t.blocks.length,o=i([].concat((0,b.Z)(e.items),(0,b.Z)(c(t))));r({loading:!1,items:o,hasNextPage:51===n,isNextPageLoading:!1})}}),a=function(){var t=(0,g.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r({isNextPageLoading:!0}),t.next=3,s.fetchMore({variables:{offset:e.items.length,limit:51}}).then((function(t){var n=t.data,o=n.blocks.length,s=i([].concat((0,b.Z)(e.items),(0,b.Z)(c(n))));r({items:s,isNextPageLoading:!1,hasNextPage:51===o})}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(t){var e=t.blocks;return 51===t.blocks.length&&(e=t.blocks.slice(0,51)),e.map((function(t){var e=w.Z("",["validator","validatorInfo","operatorAddress"],t);return{height:t.height,txs:t.txs,hash:t.hash,timestamp:t.timestamp,proposer:e}}))},u=e.hasNextPage?e.items.length+1:e.items.length,l=e.isNextPageLoading?function(){return null}:a;return{state:e,loadNextPage:a,itemCount:u,loadMoreItems:l,isItemLoaded:function(t){return!e.hasNextPage||t<e.items.length}}}(),p=i.state,d=i.loadMoreItems,N=i.itemCount,I=i.isItemLoaded,L=(0,l.Gs)(p.items.map((function(t){return t.proposer}))),S=p.items.map((function(t,e){return _(_({},t),{},{proposer:L[e]})}));return(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsx)(a.PB,{title:t("blocks"),openGraph:{title:t("blocks")}}),(0,Z.jsx)(c.Ar,{navTitle:t("blocks"),className:n.root,children:(0,Z.jsx)(c.Wf,{loading:p.loading,exists:p.exists,children:(0,Z.jsx)(c.xu,{className:n.box,children:p.items.length?(0,Z.jsx)(Z.Fragment,{children:e?(0,Z.jsx)(D,{items:S,itemCount:N,loadMoreItems:d,isItemLoaded:I}):(0,Z.jsx)(E,{items:S,itemCount:N,loadMoreItems:d,isItemLoaded:I})}):(0,Z.jsx)(c.Jd,{})})})})]})},L=!0,S=function(){return(0,Z.jsx)(I,{})}},10409:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blocks",function(){return n(73191)}])}},function(t){t.O(0,[56,9774,2888,179],(function(){return e=10409,t(t.s=e);var e}));var e=t.O();_N_E=e}]);