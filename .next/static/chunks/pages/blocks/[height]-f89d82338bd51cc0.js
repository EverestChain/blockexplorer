(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6222],{90567:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return T},default:function(){return B}});var s=n(56168),a=n(62044),r=n(22319),i=n(77956),o=n(51621),l=n.n(o),c=n(93620),u=n(17385),h=n(21667),p=n(33067),g=n(80201),d=n(8014),m=function(e,t){var n=t.className,s=(0,p.Pl)(e.proposer),r=(0,a.Z)("blocks").t,o=(0,h.sJ)(g.cK);return(0,d.jsx)(i.C,{className:n,title:r("overview"),details:[{label:r("height"),detail:(0,d.jsx)(u.Z,{variant:"body1",className:"value",children:l()(e.height).format("0,0")})},{label:r("hash"),detail:e.hash},{label:r("proposer"),detail:(0,d.jsx)(i.gj,{address:e.proposer,imageUrl:s.imageUrl,name:s.name})},{label:r("time"),detail:(0,c.z)(c.Z.utc(e.timestamp),o)},{label:r("txs"),detail:l()(e.txs).format("0,0")}]})},f=n(50744),x=n.n(f),b=n(18003),v=n(32376),j=function(e){var t=e.className,n=e.transactions,s=(0,h.sJ)(g.er),r=(0,a.Z)("transactions").t,o=(0,v.Z)((function(e){return{root:(0,b.Z)({minHeight:"500px",height:"50vh",display:"flex",flexDirection:"column"},e.breakpoints.up("lg"),{height:"100%"}),header:(0,b.Z)({marginBottom:e.spacing(2)},e.breakpoints.up("lg"),{display:"flex",alignItems:"center",justifyContent:"space-between"}),list:{flex:1}}}))();return(0,d.jsxs)(i.xu,{className:x()(t,o.root),children:[(0,d.jsx)("div",{className:o.header,children:(0,d.jsx)(u.Z,{variant:"h2",children:r("transactions")})}),"compact"===s?(0,d.jsx)(i.RG,{transactions:n,itemCount:n.length,className:o.list,hasNextPage:!1,isNextPageLoading:!1,loadNextPage:function(){return null},loadMoreItems:function(){return null},isItemLoaded:function(){return!0}}):(0,d.jsx)(i.hc,{transactions:n,itemCount:n.length,className:o.list,hasNextPage:!1,isNextPageLoading:!1,loadNextPage:function(){return null},loadMoreItems:function(){return null},isItemLoaded:function(){return!0}})]})},k=n(65117),N=n(34871),y=(0,k.default)((function(){return n.e(2142).then(n.bind(n,42142))}),{loadableGenerated:{webpack:function(){return[42142]}}}),w=(0,k.default)((function(){return n.e(7282).then(n.bind(n,67282))}),{loadableGenerated:{webpack:function(){return[67282]}}}),Z=function(e){var t=e.className,n=e.signatures,s=(0,N.eI)().isDesktop,r=(0,a.Z)("blocks").t,o=(0,v.Z)((function(e){return{root:{display:"flex",flexDirection:"column","& .MuiTypography-h2":{paddingBottom:e.spacing(2)}},wrapper:{flex:1},title:{marginBottom:e.spacing(2)},mobile:(0,b.Z)({},e.breakpoints.up("lg"),{display:"none"}),desktop:(0,b.Z)({display:"none"},e.breakpoints.up("lg"),{display:"flex"})}}))(),l=(0,p.Gs)(n);return(0,d.jsxs)(i.xu,{className:x()(t,o.root),children:[(0,d.jsx)(u.Z,{className:o.title,variant:"h2",children:r("signatures")}),n.length?(0,d.jsx)("div",{className:o.wrapper,children:s?(0,d.jsx)(y,{className:o.desktop,signatures:l}):(0,d.jsx)(w,{className:o.mobile,signatures:l})}):(0,d.jsx)(i.Jd,{})]})};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){(0,b.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=n(72794),D=n(55264),C=n(75332),I=n(45439),E=n(9951),G=function(){var e=(0,a.Z)("blocks").t,t=(0,v.Z)((function(e){return{root:P(P({},e.mixins.layout),{},(0,b.Z)({"& a":{color:e.palette.custom.fonts.highlight},display:"grid",gridTemplateRows:"auto auto 1fr",gridTemplateColumns:"1fr",gridGap:e.spacing(1)},e.breakpoints.up("lg"),{gridGap:e.spacing(2)})),signatures:(0,b.Z)({height:"450px"},e.breakpoints.up("lg"),{height:"450px"})}}))(),n=function(){var e=(0,C.useRouter)(),t=(0,s.useState)({loading:!0,exists:!0,overview:{height:0,hash:"",txs:0,timestamp:"",proposer:""},signatures:[],transactions:[]}),n=t[0],a=t[1],r=function(e){a((function(t){return _.Z(e,t)}))};(0,s.useEffect)((function(){r({loading:!0,exists:!0})}),[e.query.height]),(0,I.wW)({variables:{height:l()(e.query.height).value(),signatureHeight:l()(e.query.height).value()+1},onCompleted:function(e){r(i(e))}});var i=function(e){var t={loading:!1};return e.block.length?(t.overview=function(){var t=D.Z("",["block",0,"validator","validatorInfo","operatorAddress"],e);return{height:e.block[0].height,hash:e.block[0].hash,txs:e.block[0].txs,timestamp:e.block[0].timestamp,proposer:t}}(),t.signatures=e.preCommits.filter((function(e){var t;return null===e||void 0===e||null===(t=e.validator)||void 0===t?void 0:t.validatorInfo})).map((function(e){return e.validator.validatorInfo.operatorAddress})),t.transactions=e.transaction.map((function(e){var n=(0,E.B8)(e);return{height:e.height,hash:e.hash,success:e.success,timestamp:t.overview.timestamp,messages:{count:e.messages.length,items:n}}})),t):(t.exists=!1,t)};return{state:n}}(),o=n.state,c=o.overview,u=o.signatures,h=o.transactions;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.PB,{title:e("blockDetails"),openGraph:{title:e("blockDetails")}}),(0,d.jsx)(i.Ar,{navTitle:e("blockDetails"),children:(0,d.jsx)(i.Wf,{loading:o.loading,exists:o.exists,children:(0,d.jsxs)("span",{className:t.root,children:[(0,d.jsx)(m,{height:c.height,hash:c.hash,proposer:c.proposer,timestamp:c.timestamp,txs:c.txs}),(0,d.jsx)(Z,{className:t.signatures,signatures:u}),(0,d.jsx)(j,{transactions:h})]})})})]})},T=!0,B=function(){return(0,d.jsx)(G,{})}},21181:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blocks/[height]",function(){return n(90567)}])}},function(e){e.O(0,[9774,2888,179],(function(){return t=21181,e(e.s=t);var t}));var t=e.O();_N_E=t}]);